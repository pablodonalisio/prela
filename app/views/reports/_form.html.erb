<%= simple_form_for [location_equipment, report] do |f| %>
  <h2>Equipo</h2>
  <%= f.simple_fields_for :ups_report_stat do |ups_stats_form| %>
    <%= ups_stats_form.input :operating_mode, label: "Modo de funcionamiento" %>
    <%= ups_stats_form.input :associated_charge, label: "Carga asociada" %>
    <%= ups_stats_form.input :battery_charge, label: "Carga de la batería" %>
    <%= ups_stats_form.input :voltage_input, label: "Voltage de entrada" %>
    <%= ups_stats_form.input :voltage_output, label: "Voltage de salida" %>
    <%= ups_stats_form.input :pat_state, label: "Estado de PAT" %>
    <%= ups_stats_form.input :alarms_presence, label: "Existencia de alarmas" %>
    <%= ups_stats_form.input :ventilation_state, label: "Estado de ventilación" %>
  <% end %>

  <h2>Sala</h2>
  <%= f.simple_fields_for :room_report_stat do |room_stats_form| %>
    <%= room_stats_form.input :room_status, label: "Estado de la sala" %>
    <%= room_stats_form.input :air_conditioning, label: "Funcionamiento de los aires acondicionados" %>
  <% end %>

  <br>
  <br>
  <%= f.input :observations, label: "Observaciones" %>

  <h2>Imágenes</h2>

  <div class="col-sm-3 my-3">
    <% images_array = Array.new(2) %>
    <% report.images.each_with_index do |image, index| %>
      <% images_array[index] = image if index < 2 %>
    <% end %>

    <% images_array.each_with_index do |image, index| %>
      <% if image.present? %>
        <%= image_tag image, size: "200x200" %>
        <%= f.hidden_field :images, multiple: true, value: image.try(:signed_id) %>
      <% else %>
        <%= f.input :images, label: "Imagen #{index + 1}" do %>
          <%= f.file_field :images, multiple: true %>
        <% end %>
      <% end %>
    <% end %>
  </div>

  <%= f.button :submit, "Aceptar", class: "btn btn-success" %>
<% end %>