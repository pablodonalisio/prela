<%= simple_form_for location_equipment, html: { data: { controller: "location-equipment-form"}} do |f| %>
  <%= f.hidden_field :client_id, value: @client.id %>
  <%= f.input :location_id, label: "Sede",
                            collection: locations.pluck(:name, :id),
                            prompt: "Seleccione una sede" %>
  <%= f.input :zone, label: "Sala" %>
  <%= f.input :floor, label: "Piso" %>
  <%= f.input :equipment_id, label: "Equipo",
                              collection: Equipment.all.map { |e| [e.model, e.id, { 'data-kind' => e.kind }] },
                              prompt: "Seleccione un equipo",
                              input_html: { data: { location_equipment_form_target: "equipment", action: "change->location-equipment-form#displayInputsForEquipmentKind"}} %>

  <fieldset data-location-equipment-form-target="upsInputs" class="d-none">
    <%= render "location_equipments/ups_form", f: f %>
  </fieldset>
  <fieldset data-location-equipment-form-target="powerUnitInputs" class="d-none">
    <%= render "location_equipments/power_unit_form", f: f %>
  </fieldset>
  <fieldset data-location-equipment-form-target="electricalPanelInputs" class="d-none">
    <%= render "location_equipments/electrical_panel", f: f %>
  </fieldset>
  <fieldset data-location-equipment-form-target="buildingInputs" class="d-none">
    <%= render "location_equipments/building_form", f: f %>
  </fieldset>

  <%= f.input :details, label: "Detalles" %>
  <%= f.button :submit, "Aceptar", class: "btn btn-success" %>
<% end %>